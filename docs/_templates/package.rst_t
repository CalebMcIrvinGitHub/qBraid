{{- pkgname | e | heading }}

{%- macro automodapi(modname, options) -%}
.. automodapi:: {{ modname }}
   :no-heading:
{%- for option in options %}
   :{{ option }}:
{%- endfor %}
{%- endmacro %}

{%- macro toctree(docnames) -%}
.. toctree::
   :maxdepth: 1
{% for docname in docnames %}
   {{ docname }}
{%- endfor %}
{%- endmacro %}

{{ automodapi(pkgname, automodapi_options) }}
{%- if subpackages %}

Submodules
-----------

{{ toctree(subpackages) }}
{% endif %}
